# How to add new BuildingBricks

## Modeling a block in Blender
To add a new block to the Brick-Building Simulator, I recommend using [Blender](https://www.blender.org/). You can use the [Raw_Cube.blend](/BlenderModels/Raw_Cube.blend) and [1x1x1.blend](/BlenderModels/1x1x1.blend) as a starting point. It is recommended to use whole numbers of blocks as size. All the outer edges of the default cubes are beveled by 0.03.

When adding a new block, save the Blender-file to the [BlenderModels/](/BlenderModels/).

## Adding a block to Unity

### 1. Export to FBX
When exporting blocks, I recommend exporting them to the [BlenderExports](/Brick-Building-Simulator/Assets/Resources/Models/BlenderExports/) directory using the FBX format.

### 2. Creating a Prefab
For this step, you need to start the Unity Editor. For more details on how to open the project in the Unity Editor, please look [here](Open-In-Unity.md). 

You can then follow these steps to create a new block:
1. Create a new Prefab in the [Cuboids](/Brick-Building-Simulator/Assets/Resources/Models/Cuboids/) directory.
2. Add the FBX-file as a child object the Prefab.
3. Align the anchor of the child object to the coordinate origin of the Prefab. You can look at [1x1x1.prefab](/Brick-Building-Simulator/Assets/Resources/Models/Cuboids/1x1x1.prefab) as a reference.

### 3. Create a ScriptableObject
1. Create a new BuildingBrick in the [Scriptable Objects](</Brick-Building-Simulator/Assets/Resources/Scriptable Objects/>) directory.
2. Set the size according to the scale of your object.
3. Select the model you created in the [Cuboids](/Brick-Building-Simulator/Assets/Resources/Models/Cuboids/) directory.
4. If you already have an icon, you can add it. If not, you can generate one using the icon generator.

## Generate icons

### 1. Open Scene
First, you need to open the [IconGenerator](/Brick-Building-Simulator/Assets/Scenes/IconGenerator.unity) scene.

### 2. Select Blocks
The scene will open all block-types in the [Scriptable Objects](</Brick-Building-Simulator/Assets/Resources/Scriptable Objects/>) directory automatic. If you want one or some blocks to be selected, you have to do the following:
1. Open the _Main Camera_ in the Inspector
2. Uncheck the _autoSearchBlockTypes_ box in the _SnapshotCameraTest_ script Â 
3. Add your block(s) [Scriptable Object(s)](</Brick-Building-Simulator/Assets/Resources/Scriptable Objects/>) to the _blocksToSnapshot_ list

### 3. Make Snapshots
After starting the scene, you can shuffle through the blocks inside the list by pressing the `left-` and `right arrow buttons`. An icon can be generated by pressing `spacebar`.

A preview of the icon can be seen on the left side of the screen. If the preview is not to your liking, you can change the camera-position, scale and rotation via the Inspector. All icons will be saved in the [Icons](/Brick-Building-Simulator/Assets/Resources/Images/Icons) directory.

### 4. Set Import Settings 
To import the generated icons correctly, you first need to set their TextureType to _Sprite_.

To do that, follow these steps: 
1. Select all the icons you want to import inside the [Icons](/Brick-Building-Simulator/Assets/Resources/Images/Icons) directory. 
2. In the Inspector, search for _textureType_ and set it to _Sprite_.
3. Press Apply.

### 5. Set Icon
Now you can select your new blocks [Scriptable Object](</Brick-Building-Simulator/Assets/Resources/Scriptable Objects/>) and set the [Icon](/Brick-Building-Simulator/Assets/Resources/Images/Icons) in the Inspector.
